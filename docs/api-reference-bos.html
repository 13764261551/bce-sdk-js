<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Baidu Cloud Engine JavaScript SDK</title><meta name="viewport" content="width=device-width"><link rel="stylesheet" href="/bce-sdk-js/css/draft.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body><div class="container"><div class="nav-main"><div class="wrap"><a class="nav-home" href="/bce-sdk-js/">bce-sdk-js</a><ul class="nav-site"><li><a href="/bce-sdk-js/docs/overview.html#content" class="active">文档</a></li><li><a href="http://github.com/baidubce/bce-sdk-js" class="">源码</a></li><li><a href="https://bce.baidu.com/index.html" class="">百度开放云</a></li></ul></div></div><section class="content wrap documentationContent"><div class="nav-docs"><div class="nav-docs-section"><h3>Quick Start</h3><ul><li><a style="margin-left:0;" class="" href="/bce-sdk-js/docs/overview.html#content">总览</a></li><li><a style="margin-left:0;" class="" href="/bce-sdk-js/docs/quickstart-env-nodejs.html#content">Nodejs环境</a></li><li><a style="margin-left:0;" class="" href="/bce-sdk-js/docs/quickstart-env-browser.html#content">浏览器环境</a></li></ul></div><div class="nav-docs-section"><h3>Advanced Topics</h3><ul><li><a style="margin-left:0;" class="" href="/bce-sdk-js/docs/advanced-topics-basic-example-in-browser.html#content">在浏览器中直接上传文件到bos</a></li><li><a style="margin-left:0;" class="" href="/bce-sdk-js/docs/advanced-topics-security-issue.html#content">AK和SK的安全性问题</a></li><li><a style="margin-left:0;" class="" href="/bce-sdk-js/docs/advanced-topics-server-signature.html#content">服务端签名</a></li><li><a style="margin-left:0;" class="" href="/bce-sdk-js/docs/advanced-topics-sts.html#content">STS临时认证</a></li><li><a style="margin-left:0;" class="" href="/bce-sdk-js/docs/advanced-topics-multiupload.html#content">大文件分块上传</a></li><li><a style="margin-left:0;" class="" href="/bce-sdk-js/docs/advanced-topics-uploader.html#content">bce bos uploader</a></li><li><a style="margin-left:0;" class="" href="/bce-sdk-js/docs/advanced-topics-programming-style.html#content">多种异步编程风格</a></li><li><a style="margin-left:0;" class="" href="/bce-sdk-js/docs/advanced-topics-postobject.html#content">IE低版本的处理</a></li></ul></div><div class="nav-docs-section"><h3>API Reference</h3><ul><li><a style="margin-left:0;" class="active" href="/bce-sdk-js/docs/api-reference-bos.html#content">BOS - api</a></li><li><a style="margin-left:0;" class="" href="/bce-sdk-js/docs/api-reference-vod.html#content">VOD - api</a></li></ul></div></div><div class="inner-content"><a id="content"></a><h1>BOS - api</h1><div><p><a href="https://bce.baidu.com/product/bos.html" target="_blank">百度对象存储BOS(Baidu Object Storage)</a>，是百度开放云对外提供的稳定、安全、高效以及高扩展存储服务，支持文本、多媒体、二进制等任何类型的数据存储。数据多地域跨集群的存储，以实现资源统一利用，降低使用难度，提高工作效率。</p><p>百度开放云目前开通了多区域支持，请参考<a href="https://bce.baidu.com/doc/Reference/Regions.html" target="_blank">区域选择说明</a>。BOS 目前支持“华北-北京”和“华南-广州”两个区域。</p><p>BOS API的服务域名为：</p><table><thead><tr><th>Region</th><th>Protocol</th><th>Endpoint</th></tr></thead><thead><tr><td>BJ</td><td>HTTP or HTTPS</td><td>http(s)://bos.bj.bcebaidu.com</td></tr><tr><td>GZ</td><td>HTTP or HTTPS</td><td>http(s)://bos.gz.bcebaidu.com</td></tr></thead></table><p>BOS API支持HTTP和HTTPS两种调用方式。为了提升数据的安全性，建议通过HTTPS调用。</p><h2><a class="anchor" name="bosclient"></a>BosClient <a class="hash-link" href="#bosclient">#</a></h2><p>BosClient是BOS服务的javascript客户端，为调用者与BOS服务进行交互提供了一系列的方法。</p><ul><li>浏览器端：<code>var BosClient = baidubce.sdk.BosClient</code></li><li>nodejs：<code>import {BosClient} from &#x27;bce-sdk-js&#x27;</code></li></ul><h3><a class="anchor" name="%E5%88%9D%E5%A7%8B%E5%8C%96"></a>初始化 <a class="hash-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96">#</a></h3><pre class="prism language-javascript">
<span class="token keyword">var</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
    endpoint<span class="token punctuation">:</span> <span class="token string">&#x27;http://bos.bj.baidubce.com&#x27;</span><span class="token punctuation">,</span>
    credentials<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        ak<span class="token punctuation">:</span> <span class="token string">&#x27;您的ak&#x27;</span><span class="token punctuation">,</span>
        sk<span class="token punctuation">:</span> <span class="token string">&#x27;您的sk&#x27;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BosClient</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h2><a class="anchor" name="bucket"></a>Bucket <a class="hash-link" href="#bucket">#</a></h2><p>Bucket既是BOS上的命名空间，也是计费、权限控制、日志记录等高级功能的管理实体。</p><ul><li>Bucket名称在所有区域中具有全局唯一性，且不能修改。</li><li>存储在BOS上的每个Object都必须包含在一个Bucket中。</li><li>一个用户最多可创建100个Bucket，但每个Bucket中存放的Object的数量和大小总和没有限制，用户不需要考虑数据的可扩展性。</li></ul><h3><a class="anchor" name="%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"></a>命名规范 <a class="hash-link" href="#%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83">#</a></h3><p>Bucket的命名有以下规范：</p><ul><li>只能包括小写字母，数字，短横线（-）。</li><li>必须以小写字母或者数字开头。</li><li>长度必须在3-63字节之间。</li></ul><h3><a class="anchor" name="%E6%96%B0%E5%BB%BAbucket"></a>新建Bucket <a class="hash-link" href="#%E6%96%B0%E5%BB%BAbucket">#</a></h3><p>如下代码可以新建一个Bucket：</p><pre class="prism language-javascript">
<span class="token keyword">var</span> newBucketName <span class="token operator">=</span> &lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"> // 指定Bucket的名称
</span>client<span class="token punctuation">.</span><span class="token function">createBucket<span class="token punctuation">(</span></span>newBucketName<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 创建完成，用户添加自已的代码；
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 创建失败，用户添加自己的代码，处理异常
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="%E6%9F%A5%E7%9C%8Bbucket%E5%88%97%E8%A1%A8"></a>查看Bucket列表 <a class="hash-link" href="#%E6%9F%A5%E7%9C%8Bbucket%E5%88%97%E8%A1%A8">#</a></h3><p>如下代码可以列出用户所有的Bucket：</p><pre class="prism language-javascript">
client<span class="token punctuation">.</span><span class="token function">listBuckets<span class="token punctuation">(</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> bucket <span class="token keyword">in</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>buckets <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>bucket<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 查询失败，用户添加自己的代码，处理异常
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="%E5%88%A4%E6%96%ADbucket%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8"></a>判断Bucket是否存在 <a class="hash-link" href="#%E5%88%A4%E6%96%ADbucket%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8">#</a></h3><p>若用户需要判断某个Bucket是否存在，则如下代码可以做到：</p><pre class="prism language-javascript">
client<span class="token punctuation">.</span><span class="token function">doesBucketExist<span class="token punctuation">(</span></span>&lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">&#x27;bucket存在&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">&#x27;bucket不存在&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 查询失败，用户添加自己的代码，处理异常
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="%E5%88%A0%E9%99%A4bucket"></a>删除Bucket <a class="hash-link" href="#%E5%88%A0%E9%99%A4bucket">#</a></h3><p>如下代码可以删除一个Bucket：</p><pre class="prism language-javascript">
client<span class="token punctuation">.</span><span class="token function">deleteBucket<span class="token punctuation">(</span></span>&lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 删除完成
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 删除失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>复制
注意：如果Bucket不为空（即Bucket中有Object存在），则Bucket无法被删除，必须清空Bucket后才能成功删除。</p><h3><a class="anchor" name="bucket%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6"></a>Bucket权限控制 <a class="hash-link" href="#bucket%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6">#</a></h3><h4><a class="anchor" name="%E8%AE%BE%E7%BD%AEbucket%E7%9A%84%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90"></a>设置Bucket的访问权限 <a class="hash-link" href="#%E8%AE%BE%E7%BD%AEbucket%E7%9A%84%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90">#</a></h4><p>如下代码将Bucket的权限设置为了<code>private</code>：</p><pre class="prism language-javascript">
client<span class="token punctuation">.</span><span class="token function">setBucketCannedAcl<span class="token punctuation">(</span></span>&lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token string">&#x27;private&#x27;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 设置完成
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 设置失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>除了<code>private</code>，还有<code>public-read</code>和<code>public-read-write</code>可以设置，它们分别对应不同的权限。具体内容可以参考《BOS API文档 <a href="https://bce.baidu.com/doc/BOS/API.html#.4F.FA.21.55.58.27.F8.31.85.2D.01.55.89.10.A7.16" target="_blank">使用CannedAcl方式的权限控制</a>》。</p><h4><a class="anchor" name="%E8%AE%BE%E7%BD%AE%E6%8C%87%E5%AE%9A%E7%94%A8%E6%88%B7%E5%AF%B9bucket%E7%9A%84%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90"></a>设置指定用户对Bucket的访问权限 <a class="hash-link" href="#%E8%AE%BE%E7%BD%AE%E6%8C%87%E5%AE%9A%E7%94%A8%E6%88%B7%E5%AF%B9bucket%E7%9A%84%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90">#</a></h4><p>BOS还可以实现设置指定用户对Bucket的访问权限，参考如下代码实现：</p><pre class="prism language-javascript">
<span class="token keyword">var</span> grant_list <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&#x27;grantee&#x27;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span><span class="token string">&#x27;id&#x27;</span><span class="token punctuation">:</span> &lt;userId1<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true"> // 授权给特定用户1
</span>            <span class="token punctuation">{</span><span class="token string">&#x27;id&#x27;</span><span class="token punctuation">:</span> &lt;userId2<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true"> // 授权给特定用户2
</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&#x27;permission&#x27;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;FULL_CONTROL&#x27;</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true"> // 设置权限为FULL_CONTROL
</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token string">&#x27;grantee&#x27;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span><span class="token string">&#x27;id&#x27;</span><span class="token punctuation">:</span> &lt;userId3<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true"> // 授权给特定用户1
</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&#x27;permission&#x27;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;READ&#x27;</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true"> // 设置权限为READ
</span>    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
client<span class="token punctuation">.</span><span class="token function">setBucketAcl<span class="token punctuation">(</span></span>&lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">,</span> grant_list<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 设置完成
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 设置失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>注意：permission中的权限设置包含三个值：<code>READ</code>、<code>WRITE</code>、<code>FULL_CONTROL</code>，它们分别对应相关权限。具体内容可以参考《BOS API文档 <a href="https://bce.baidu.com/doc/BOS/API.html#.D4.56.61.2C.A5.B1.68.B6.42.32.3E.18.15.BD.CE.43" target="_blank">上传ACL文件方式的权限控制</a>》。</p><h2><a class="anchor" name="object"></a>Object <a class="hash-link" href="#object">#</a></h2><p>在BOS中，用户操作的基本数据单元是Object。Object包含Key、Meta和Data。其中，Key是Object的名字；Meta是用户对该Object的描述，由一系列Name-Value对组成；Data是Object的数据。</p><h3><a class="anchor" name="object%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"></a>Object命名规范 <a class="hash-link" href="#object%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83">#</a></h3><p>Object的命名规范如下：</p><ul><li>使用UTF-8编码。</li><li>长度必须在1-1023字节之间。</li><li>首字母不能为&#x27;/&#x27;。</li></ul><h3><a class="anchor" name="%E7%AE%80%E5%8D%95%E4%B8%8A%E4%BC%A0"></a>简单上传 <a class="hash-link" href="#%E7%AE%80%E5%8D%95%E4%B8%8A%E4%BC%A0">#</a></h3><p>BOS支持多种形式的Object上传，参考如下代码：</p><pre class="prism language-javascript">
<span class="token keyword">function</span> <span class="token function">done<span class="token punctuation">(</span></span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // 上传完成
</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fail<span class="token punctuation">(</span></span>fail<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // 上传失败
</span><span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">
// 以字符串形式上传
</span>client<span class="token punctuation">.</span><span class="token function">putObjectFromString<span class="token punctuation">(</span></span>bucket<span class="token punctuation">,</span> object<span class="token punctuation">,</span> <span class="token string">&#x27;hello world&#x27;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span>done<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>fail<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">
// 以DataUrl形式上传
</span><span class="token keyword">var</span> dataUrl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Buffer</span><span class="token punctuation">(</span><span class="token string">&#x27;hello world&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString<span class="token punctuation">(</span></span><span class="token string">&#x27;base64&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
client<span class="token punctuation">.</span><span class="token function">putObjectFromDataUrl<span class="token punctuation">(</span></span>bucket<span class="token punctuation">,</span> object<span class="token punctuation">,</span> dataUrl<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span>done<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>fail<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">
// 以文件形式上传，仅支持nodejs环境
</span>client<span class="token punctuation">.</span><span class="token function">putObjectFromFile<span class="token punctuation">(</span></span>bucket<span class="token punctuation">,</span> object<span class="token punctuation">,</span> &lt;path<span class="token operator">-</span>to<span class="token operator">-</span>file<span class="token operator">&gt;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span>done<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>fail<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">
// 以blob对象形式上传，仅支持浏览器环境
</span>client<span class="token punctuation">.</span><span class="token function">putObjectFromBlob<span class="token punctuation">(</span></span>bucket<span class="token punctuation">,</span> object<span class="token punctuation">,</span> &lt;blob对象<span class="token operator">&gt;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span>done<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>fail<span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Object以文件的形式上传到BOS中，以上简单上传的函数支持不超过5GB的Object上传。在上传处理成功后，BOS会在Header中返回Object的ETag作为文件标识。</p><h3><a class="anchor" name="%E8%AE%BE%E5%AE%9Ahttp%20header%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89meta%E6%95%B0%E6%8D%AE"></a>设定http header和自定义meta数据 <a class="hash-link" href="#%E8%AE%BE%E5%AE%9Ahttp%20header%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89meta%E6%95%B0%E6%8D%AE">#</a></h3><p>sdk本质上是调用后台的HTTP接口，因此BOS服务允许用户自定义Http Header。同时也允许用户对要上传的Object添加自定义meta信息。以<code>putObjectFromFile()</code>函数为例，可以用以下代码来处理：</p><pre class="prism language-javascript">
<span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    content<span class="token operator">-</span>length<span class="token punctuation">:</span> &lt;file<span class="token punctuation">.</span>size<span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true"> // 添加http header
</span>    content<span class="token operator">-</span>type<span class="token punctuation">:</span> <span class="token string">&#x27;application/json&#x27;</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true"> // 添加http header
</span>
    x<span class="token operator">-</span>bce<span class="token operator">-</span>meta<span class="token operator">-</span>foo1<span class="token punctuation">:</span> <span class="token string">&#x27;bar1&#x27;</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true"> // 添加自定义meta信息
</span>    x<span class="token operator">-</span>bce<span class="token operator">-</span>meta<span class="token operator">-</span>foo2<span class="token punctuation">:</span> <span class="token string">&#x27;bar2&#x27;</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true"> // 添加自定义meta信息
</span>    x<span class="token operator">-</span>bce<span class="token operator">-</span>meta<span class="token operator">-</span>foo3<span class="token punctuation">:</span> <span class="token string">&#x27;bar3&#x27;</span><span class="token comment" spellcheck="true"> // 添加自定义meta信息
</span><span class="token punctuation">}</span>
client<span class="token punctuation">.</span><span class="token function">putObjectFromFile<span class="token punctuation">(</span></span>bucket<span class="token punctuation">,</span> object<span class="token punctuation">,</span> &lt;path<span class="token operator">-</span>to<span class="token operator">-</span>file<span class="token operator">&gt;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span>done<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>fail<span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>注意，自定义meta信息的key需要以<code>x-bce-meta-</code>开头。</p><h3><a class="anchor" name="%E5%88%86%E5%9D%97%E4%B8%8A%E4%BC%A0"></a>分块上传 <a class="hash-link" href="#%E5%88%86%E5%9D%97%E4%B8%8A%E4%BC%A0">#</a></h3><p>除了通过上述接口上传文件到BOS以外，BOS还提供了另外一种上传模式 —— Multipart Upload。用户可以在如下的应用场景内（但不仅限于此），使用Multipart Upload上传模式，如：</p><ul><li>需要支持断点上传。</li><li>上传超过5GB大小的文件。</li><li>网络条件较差，和BOS的服务器之间的连接经常断开。</li><li>需要流式地上传文件。</li><li>上传文件之前，无法确定上传文件的大小。</li></ul><p>具体的api及使用方法，请参考<a href="advanced-topics-multiupload.html" target="_blank">大文件分块上传</a></p><h3><a class="anchor" name="%E6%9F%A5%E7%9C%8Bbucket%E4%B8%AD%E7%9A%84object"></a>查看Bucket中的Object <a class="hash-link" href="#%E6%9F%A5%E7%9C%8Bbucket%E4%B8%AD%E7%9A%84object">#</a></h3><h4><a class="anchor" name="%E6%9F%A5%E7%9C%8Bbucket%E4%B8%ADobject%E5%88%97%E8%A1%A8"></a>查看Bucket中Object列表 <a class="hash-link" href="#%E6%9F%A5%E7%9C%8Bbucket%E4%B8%ADobject%E5%88%97%E8%A1%A8">#</a></h4><p>如下代码所示：</p><pre class="prism language-javascript">
client<span class="token punctuation">.</span><span class="token function">listObjects<span class="token punctuation">(</span></span>&lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> obj <span class="token keyword">in</span> response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>contents<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>obj<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 查询失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>注意：</p><ol><li>默认情况下，如果Bucket中的Object数量大于1000，则只会返回1000个Object，并且返回结果中<code>IsTruncated</code>值为<code>true</code>，并返回<code>NextMarker</code>做为下次读取的起点。</li><li>若想增大返回Object的数目，可以使用<code>Marker</code>参数分次读取。</li></ol><h4><a class="anchor" name="%E6%89%A9%E5%B1%95%E5%8F%82%E6%95%B0"></a>扩展参数 <a class="hash-link" href="#%E6%89%A9%E5%B1%95%E5%8F%82%E6%95%B0">#</a></h4><p>用户可以通过设置<code>listObjects</code>的第二个参数来完成更强大的功能，如下代码所示：</p><pre class="prism language-javascript">
<span class="token comment" spellcheck="true">// 设置参数
</span><span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    delimiter<span class="token punctuation">:</span> <span class="token string">&#x27;/&#x27;</span><span class="token punctuation">,</span>
    marker<span class="token punctuation">:</span> <span class="token string">&#x27;123&#x27;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

client<span class="token punctuation">.</span><span class="token function">listObjects<span class="token punctuation">(</span></span>&lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> obj <span class="token keyword">in</span> response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>contents<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>obj<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 查询失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>上面代码在调用<code>listObject</code>时，指定了<code>delimiter</code>和<code>marker</code>两个配置项，以实现更丰富的功能，下表列出了所有可设置的配置名称和作用：</p><table><thead><tr><th>名称</th><th>作用</th></tr></thead><thead><tr><td><code>delimiter</code></td><td>是一个用于对Object名字进行分组的字符。所有名字包含指定的前缀且第一次出现delimiter字符之间的Object作为一组元素: <code>commonPrefixes</code>。</td></tr><tr><td><code>marker</code></td><td>设定结果从<code>marker</code>之后按字母排序的第一个开始返回。</td></tr><tr><td><code>maxKeys</code></td><td>限定此次返回Object的最大数，此数值不能超过1000，如果不设定，默认为1000。</td></tr><tr><td><code>prefix</code></td><td>限定返回的Object Key必须以<code>prefix</code>作为前缀。</td></tr></thead></table><p>注意：</p><ol><li><p>如果有Object以<code>prefix</code>命名，当仅使用<code>prefix</code>查询时，返回的所有Key中仍会包含以<code>prefix</code>命名的Object</p></li><li><p>如果有Object以<code>prefix</code>命名，当使用<code>prefix</code>和<code>delimiter</code>组合查询时，返回的所有Key中会有<code>null</code>，Key的名字不包含<code>prefix</code>前缀</p></li></ol><h4><a class="anchor" name="%E6%96%87%E4%BB%B6%E5%A4%B9%E5%8A%9F%E8%83%BD%E6%A8%A1%E6%8B%9F"></a>文件夹功能模拟 <a class="hash-link" href="#%E6%96%87%E4%BB%B6%E5%A4%B9%E5%8A%9F%E8%83%BD%E6%A8%A1%E6%8B%9F">#</a></h4><p>用户可以通过<code>delimiter</code>和<code>prefix</code>配置项配合进行文件夹功能模拟。</p><p>假设Bucket中有5个文件：bos.jpg，fun/，fun/test.jpg，fun/movie/001.avi，fun/movie/007.avi，把 “/” 符号作为文件夹的分隔符。</p><h5><a class="anchor" name="%E9%80%92%E5%BD%92%E5%88%97%E5%87%BA%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6"></a>递归列出目录下所有文件 <a class="hash-link" href="#%E9%80%92%E5%BD%92%E5%88%97%E5%87%BA%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6">#</a></h5><p>可以通过设置<code>prefix</code>配置项来获取某个目录下所有的文件：</p><pre class="prism language-javascript">
<span class="token comment" spellcheck="true">// 设置参数
</span><span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    prefix<span class="token punctuation">:</span> <span class="token string">&#x27;fun/&#x27;</span><span class="token comment" spellcheck="true"> // 递归列出fun目录下的所有文件
</span><span class="token punctuation">}</span><span class="token punctuation">;</span>


client<span class="token punctuation">.</span><span class="token function">listObjects<span class="token punctuation">(</span></span>&lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">&#x27;Objects:&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> obj <span class="token keyword">in</span> response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>contents<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>obj<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 查询失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>输出：</p><pre class="prism language-javascript">
Objects<span class="token punctuation">:</span>
fun<span class="token operator">/</span>
fun<span class="token operator">/</span>movie<span class="token operator">/</span><span class="token number">001</span><span class="token punctuation">.</span>avi
fun<span class="token operator">/</span>movie<span class="token operator">/</span><span class="token number">007</span><span class="token punctuation">.</span>avi
fun<span class="token operator">/</span>test<span class="token punctuation">.</span>jpg</pre><h5><a class="anchor" name="%E6%9F%A5%E7%9C%8B%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%E5%92%8C%E5%AD%90%E7%9B%AE%E5%BD%95"></a>查看目录下的文件和子目录 <a class="hash-link" href="#%E6%9F%A5%E7%9C%8B%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%E5%92%8C%E5%AD%90%E7%9B%AE%E5%BD%95">#</a></h5><p>在<code>prefix</code>和<code>delimiter</code>结合的情况下，可以列出目录下的文件和子目录：</p><pre class="prism language-javascript">
<span class="token comment" spellcheck="true">// 设置参数
</span><span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    prefix<span class="token punctuation">:</span> <span class="token string">&#x27;fun/&#x27;</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true"> // 列出fun目录下的所有文件和文件夹
</span>    delimiter<span class="token punctuation">:</span> <span class="token string">&#x27;/&#x27;</span><span class="token comment" spellcheck="true"> // &quot;/&quot; 为文件夹的分隔符
</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

client<span class="token punctuation">.</span><span class="token function">listObjects<span class="token punctuation">(</span></span>&lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">&#x27;Objects:&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> obj <span class="token keyword">in</span> response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>contents<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>obj<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">&#x27;CommonPrefixs:&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> commonPrefix <span class="token keyword">in</span> response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>commonPrefixs<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>commonPrefix<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 查询失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>输出：</p><pre class="prism language-javascript">
Objects<span class="token punctuation">:</span>
fun<span class="token operator">/</span>
fun<span class="token operator">/</span>test<span class="token punctuation">.</span>jpg
CommonPrefixs<span class="token punctuation">:</span>
fun<span class="token regex">/movie/</span></pre><p>返回的结果中，<code>response.body.contents</code>给出的是fun目录下的文件。而<code>response.body.commonPrefixs</code>的列表中给出的是fun目录下的所有子文件夹。可以看出 fun/movie/001.avi ， fun/movie/007.avi 两个文件并没有被列出来，因为它们属于fun文件夹下的movie目录。</p><h3><a class="anchor" name="%E8%8E%B7%E5%8F%96object%EF%BC%88%E4%BB%85%E6%94%AF%E6%8C%81nodejs%EF%BC%89"></a>获取Object（仅支持nodejs） <a class="hash-link" href="#%E8%8E%B7%E5%8F%96object%EF%BC%88%E4%BB%85%E6%94%AF%E6%8C%81nodejs%EF%BC%89">#</a></h3><p>用户可以通过如下代码将Object读取到一个流中：</p><pre class="prism language-javascript">
<span class="token keyword">var</span> range <span class="token operator">=</span> <span class="token string">&#x27;0-100&#x27;</span><span class="token punctuation">;</span>
client<span class="token punctuation">.</span><span class="token function">getObject<span class="token punctuation">(</span></span>&lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">,</span> &lt;key<span class="token operator">&gt;</span><span class="token punctuation">,</span> range<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> buffer <span class="token operator">=</span> response<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>设置range为0-100表示只获取0到100字节的数据，用户可以用此功能实现文件的分段下载和断点续传。如果不设置range，刚获取整个Object。</p><h3><a class="anchor" name="%E8%8E%B7%E5%8F%96object%E5%88%B0%E6%96%87%E4%BB%B6%EF%BC%88%E4%BB%85%E6%94%AF%E6%8C%81nodejs%EF%BC%89"></a>获取Object到文件（仅支持nodejs） <a class="hash-link" href="#%E8%8E%B7%E5%8F%96object%E5%88%B0%E6%96%87%E4%BB%B6%EF%BC%88%E4%BB%85%E6%94%AF%E6%8C%81nodejs%EF%BC%89">#</a></h3><p>用户可以通过如下代码将Object下载到一个文件中：</p><pre class="prism language-javascript">
<span class="token keyword">var</span> range <span class="token operator">=</span> <span class="token string">&#x27;0-100&#x27;</span><span class="token punctuation">;</span>
client<span class="token punctuation">.</span><span class="token function">getObjectToFile<span class="token punctuation">(</span></span>&lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">,</span> &lt;key<span class="token operator">&gt;</span><span class="token punctuation">,</span> &lt;filePath<span class="token operator">&gt;</span><span class="token punctuation">,</span> range<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 下载完成
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>range的用法同上。</p><h3><a class="anchor" name="%E8%8E%B7%E5%8F%96object%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89meta%E4%BF%A1%E6%81%AF"></a>获取Object的自定义Meta信息 <a class="hash-link" href="#%E8%8E%B7%E5%8F%96object%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89meta%E4%BF%A1%E6%81%AF">#</a></h3><p>通过getObjectMetadata方法可以只获取ObjectMetadata而不获取Object的实体。如下代码所示：</p><pre class="prism language-javascript">
client<span class="token punctuation">.</span><span class="token function">getObjectMetadata<span class="token punctuation">(</span></span>&lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">,</span> &lt;key<span class="token operator">&gt;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">dir<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>http_headers<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="%E5%88%A0%E9%99%A4object"></a>删除Object <a class="hash-link" href="#%E5%88%A0%E9%99%A4object">#</a></h3><p>如下代码删除了一个Object:</p><pre class="prism language-javascript">
client<span class="token punctuation">.</span><span class="token function">deleteObject<span class="token punctuation">(</span></span>&lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">,</span> &lt;key<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="%E6%8B%B7%E8%B4%9Dobject"></a>拷贝Object <a class="hash-link" href="#%E6%8B%B7%E8%B4%9Dobject">#</a></h3><p>用户可以通过copyObjectRequest实现Object的拷贝，如下代码所示：</p><pre class="prism language-javascript">
<span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    x<span class="token operator">-</span>bce<span class="token operator">-</span>meta<span class="token operator">-</span>foo1<span class="token punctuation">:</span> <span class="token string">&#x27;bar1&#x27;</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true"> // 覆盖自定义meta信息
</span>    x<span class="token operator">-</span>bce<span class="token operator">-</span>meta<span class="token operator">-</span>foo2<span class="token punctuation">:</span> <span class="token string">&#x27;bar2&#x27;</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true"> // 覆盖自定义meta信息
</span>    x<span class="token operator">-</span>bce<span class="token operator">-</span>meta<span class="token operator">-</span>foo3<span class="token punctuation">:</span> <span class="token string">&#x27;bar3&#x27;</span><span class="token comment" spellcheck="true"> // 覆盖自定义meta信息
</span><span class="token punctuation">}</span>
client<span class="token punctuation">.</span><span class="token function">copyObject<span class="token punctuation">(</span></span>&lt;bucketName<span class="token operator">&gt;</span><span class="token punctuation">,</span> &lt;key<span class="token operator">&gt;</span><span class="token punctuation">,</span> &lt;targetBucketName<span class="token operator">&gt;</span><span class="token punctuation">,</span> &lt;targetKey<span class="token operator">&gt;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div><div class="docs-prevnext"><a class="docs-next" href="api-reference-vod.html#content">下一篇 →</a></div></div></section><footer class="wrap"><div class="right">© 2016 Baidu Inc.</div></footer></div></body></html>