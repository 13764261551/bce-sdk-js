<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Draft.js | Rich Text Editor Framework for React</title><meta name="viewport" content="width=device-width"><meta property="og:title" content="Draft.js | Rich Text Editor Framework for React"><meta property="og:type" content="website"><meta property="og:url" content="http://facebook.github.io/draft-js/index.html"><meta property="og:description" content="Rich Text Editor Framework for React"><link rel="stylesheet" href="/draft-js/css/draft.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body><div class="container"><div class="nav-main"><div class="wrap"><a class="nav-home" href="/draft-js/">Draft.js</a><ul class="nav-site"><li><a href="/draft-js/docs/overview.html#content" class="active">docs</a></li><li><a href="http://github.com/facebook/draft-js" class="">github</a></li></ul></div></div><section class="content wrap documentationContent"><div class="nav-docs"><div class="nav-docs-section"><h3>Quick Start</h3><ul><li><a style="margin-left:0;" class="" href="/draft-js/docs/overview.html#content">Overview</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/quickstart-api-basics.html#content">API Basics</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/quickstart-rich-styling.html#content">Rich Styling</a></li></ul></div><div class="nav-docs-section"><h3>Advanced Topics</h3><ul><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-entities.html#content">Entities</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-decorators.html#content">Decorators</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-key-bindings.html#content">Key Bindings</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-managing-focus.html#content">Managing Focus</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-block-styling.html#content">Block Styling</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-block-components.html#content">Custom Block Components</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-inline-styles.html#content">Complex Inline Styles</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-nested-lists.html#content">Nested Lists</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/advanced-topics-text-direction.html#content">Text Direction</a></li><li><a style="margin-left:0;" class="active" href="/draft-js/docs/advanced-topics-issues-and-pitfalls.html#content">Issues and Pitfalls</a></li></ul></div><div class="nav-docs-section"><h3>API Reference</h3><ul><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-editor.html#content">Editor Component</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-editor-state.html#content">EditorState</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-content-state.html#content">ContentState</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-content-block.html#content">ContentBlock</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-character-metadata.html#content">CharacterMetadata</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-entity.html#content">Entity</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-selection-state.html#content">SelectionState</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-data-conversion.html#content">Data Conversion</a></li><li><a style="margin-left:0;" class="" href="/draft-js/docs/api-reference-modifier.html#content">Modifier</a></li></ul></div></div><div class="inner-content"><a id="content"></a><h1>Issues and Pitfalls</h1><div><p>This article addresses some known issues with the Draft editor framework, as
well as some common pitfalls that we have encountered while using the framework
at Facebook.</p><h2><a class="anchor" name="common-pitfalls"></a>Common Pitfalls <a class="hash-link" href="#common-pitfalls">#</a></h2><h3><a class="anchor" name="delayed-state-updates"></a>Delayed state updates <a class="hash-link" href="#delayed-state-updates">#</a></h3><p>A common pattern for unidirectional data management is to batch or otherwise
delay updates to data stores, using a setTimeout or another mechanism. Stores are
updated, then emit changes to the relevant React components to propagate
re-rendering.</p><p>When delays are introduced to a React application with a Draft editor, however,
it is possible to cause significant interaction problems. This is because the
editor expects immediate updates and renders that stay in sync with the user&#x27;s typing
behavior. Delays can prevent updates from being propagated through the editor
component tree, which can cause a disconnect between keystrokes and updates.</p><p>To avoid this while still using a delaying or batching mechanism, you should
separate the delay behavior from your <code>Editor</code> state propagation. That is,
you must always allow your <code>EditorState</code> to propagate to your <code>Editor</code>
component without delay, and independently perform batched updates that do
not affect the state of your <code>Editor</code> component.</p><h2><a class="anchor" name="known-issues"></a>Known Issues <a class="hash-link" href="#known-issues">#</a></h2><h3><a class="anchor" name="react-contenteditable-warning"></a>React ContentEditable Warning <a class="hash-link" href="#react-contenteditable-warning">#</a></h3><p>Within the React core, a warning is used to ward off engineers who wish to
use ContentEditable within their components, since by default the
browser-controlled nature of ContentEditable does not mesh with strict React
control over the DOM. The Draft editor resolves this issue, so for our case,
the warning is noise. You can ignore it for now.</p><p>We are currently looking into removing or replacing the warning to alleviate
the irritation it may cause: <a href="https://github.com/facebook/react/issues/6081">https://github.com/facebook/react/issues/6081</a></p><h3><a class="anchor" name="custom-osx-keybindings"></a>Custom OSX Keybindings <a class="hash-link" href="#custom-osx-keybindings">#</a></h3><p>Because the browser has no access to OS-level custom keybindings, it is not
possible to intercept edit intent behaviors that do not map to default system
key bindings.</p><p>The result of this is that users who use custom keybindings may encounter
issues with Draft editors, since their key commands may not behave as expected.</p><h3><a class="anchor" name="browser-plugins-extensions"></a>Browser plugins/extensions <a class="hash-link" href="#browser-plugins-extensions">#</a></h3><p>As with any React application, browser plugins and extensions that modify the
DOM can cause Draft editors to break.</p><p>Grammar checkers, for instance, may modify the DOM within contentEditable
elements, adding styles like underlines and backgrounds. Since React cannot
reconcile the DOM if the browser does not match its expectations,
the editor state may fail to remain in sync with the DOM.</p><p>Certain old ad blockers are also known to break the native DOM Selection
API -- a bad idea no matter what! -- and since Draft depends on this API to
maintain controlled selection state, this can cause trouble for editor
interaction.</p><h3><a class="anchor" name="ime-and-internet-explorer"></a>IME and Internet Explorer <a class="hash-link" href="#ime-and-internet-explorer">#</a></h3><p>As of IE11, Internet Explorer demonstrates notable issues with certain international
input methods, most significantly Korean input.</p></div><div class="docs-prevnext"><a class="docs-next" href="api-reference-editor.html#content">Next →</a></div></div></section><footer class="wrap"><div class="right">© 2016 Facebook Inc.</div></footer></div><div id="fb-root"></div><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-387204-10', 'facebook.github.io');
            ga('send', 'pageview');

            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)
            ){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
          </script></body></html>