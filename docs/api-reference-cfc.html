<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Baidu Cloud Engine JavaScript SDK</title><meta name="viewport" content="width=device-width"><link rel="stylesheet" href="/bce-sdk-js/css/draft.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body><div class="container"><div class="nav-main"><div class="wrap"><a class="nav-home" href="/bce-sdk-js/">bce-sdk-js</a><ul class="nav-site"><li><a href="/bce-sdk-js/docs/overview.html#content" class="active">文档</a></li><li><a href="http://github.com/baidubce/bce-sdk-js" class="">源码</a></li><li><a href="https://bce.baidu.com/index.html" class="">百度开放云</a></li></ul></div></div><section class="content wrap documentationContent"><div class="nav-docs"><div class="nav-docs-section"><h3>API Reference</h3><ul><li><a style="margin-left:0;" class="active" href="/bce-sdk-js/docs/api-reference-cfc.html#content">CFC - api</a></li></ul></div></div><div class="inner-content"><a id="content"></a><h1>CFC - api</h1><div><p><a href="https://cloud.baidu.com/doc/CFC/ProductDescription.html" target="_blank">百度 CFC (Cloud Function Compute)</a> 是百度开放云 BCE (Baidu Cloud Engine)提供基于事件机制,弹性、高可用、扩展性好、极速响应的云端无服务器计算能力。您可以仅关注业务逻辑的代码部分，无需关注和配置服务器资源，支持多种函数触发器，满足多样化的事件触发场景。</p><h2><a class="anchor" name="cfcclient"></a>CfcClient <a class="hash-link" href="#cfcclient">#</a></h2><p>CfcClient是CFC服务的javascript客户端，为调用者与CFC服务进行交互提供了一系列的方法。</p><ul><li>nodejs：<code>import {CfcClient} from &#x27;bce-sdk-js&#x27;</code></li></ul><p><a href="https://cloud.baidu.com/doc/CFC/API.html#.E6.8E.A5.E5.8F.A3.E8.AF.B4.E6.98.8E" target="_blank">CFC接口说明</a></p><h3><a class="anchor" name="%E5%88%9D%E5%A7%8B%E5%8C%96"></a>初始化 <a class="hash-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96">#</a></h3><pre class="prism language-javascript">
<span class="token keyword">var</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
    endpoint<span class="token punctuation">:</span> <span class="token string">&#x27;http://cfc.bj.baidubce.com&#x27;</span><span class="token punctuation">,</span>
    credentials<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        ak<span class="token punctuation">:</span> <span class="token string">&#x27;您的ak&#x27;</span><span class="token punctuation">,</span>
        sk<span class="token punctuation">:</span> <span class="token string">&#x27;您的sk&#x27;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CfcClient</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h2><a class="anchor" name="%E5%87%BD%E6%95%B0%E6%8E%A5%E5%8F%A3"></a>函数接口 <a class="hash-link" href="#%E5%87%BD%E6%95%B0%E6%8E%A5%E5%8F%A3">#</a></h2><h3><a class="anchor" name="%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%20invocations"></a>调用函数 invocations <a class="hash-link" href="#%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%20invocations">#</a></h3><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>FunctionName</td><td>String</td><td>是</td><td>path参数</td><td>函数名</td></tr><tr><td>logToBody</td><td>Boolean</td><td>否</td><td>Query参数</td><td>true把日志打印到返回</td></tr><tr><td>invocationType</td><td>String</td><td>是</td><td>Query参数</td><td>Event(无返回)/RequestResponse(同步返回)/DryRun(测试函数)</td></tr><tr><td>logType</td><td>String</td><td>否</td><td>Query参数</td><td>日志类型 Tail / None</td></tr><tr><td>Qualifier</td><td>String</td><td>否</td><td>Query参数</td><td>默认为$LATEST 可选别名和版本</td></tr></thead></table><p><strong>Request Body</strong>
    json数据格式，作为input参数调用函数</p><pre class="prism language-javascript">
```<span class="token comment" spellcheck="true">
//自定义参数
</span><span class="token punctuation">{</span>
    <span class="token string">&quot;key3&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;value3&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;key2&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;value2&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;key1&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;value1&quot;</span>
<span class="token punctuation">}</span>
```</pre><p>如下代码可以调用函数：</p><pre class="prism language-javascript">
<span class="token keyword">var</span> functionName <span class="token operator">=</span> &lt;functionName<span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"> // 指定function的名称
</span><span class="token keyword">var</span> invoke_body <span class="token operator">=</span>     <span class="token punctuation">{</span>
                          <span class="token string">&quot;key3&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;value3&quot;</span><span class="token punctuation">,</span>
                          <span class="token string">&quot;key2&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;value2&quot;</span><span class="token punctuation">,</span>
                          <span class="token string">&quot;key1&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;value1&quot;</span>
                      <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> invoke_options <span class="token operator">=</span> <span class="token punctuation">{</span>
                         <span class="token string">&quot;logToBody&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">,</span>
                         <span class="token string">&quot;invocationType&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;RequestResponse&quot;</span><span class="token punctuation">,</span>
                         <span class="token string">&quot;logType&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;None&quot;</span><span class="token punctuation">,</span>
                         <span class="token string">&quot;Qualifier&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;$LATEST&quot;</span>
                     <span class="token punctuation">}</span><span class="token punctuation">;</span>
client<span class="token punctuation">.</span><span class="token function">invocations<span class="token punctuation">(</span></span>functionName<span class="token punctuation">,</span>invoke_body<span class="token punctuation">,</span>invoke_options<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行函数
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h2><a class="anchor" name="%E5%87%BD%E6%95%B0%E6%93%8D%E4%BD%9C"></a>函数操作 <a class="hash-link" href="#%E5%87%BD%E6%95%B0%E6%93%8D%E4%BD%9C">#</a></h2><h3><a class="anchor" name="createfunction"></a>createFunction <a class="hash-link" href="#createfunction">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于创建函数。</li></ul><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>ZipFile</td><td>blob</td><td>是</td><td>RequestBody参数</td><td>您要发布的zip包的 base64-encoded 注意zip包压缩目录的内容，而不是目录本身</td></tr><tr><td>Publish</td><td>Boolean</td><td>否</td><td>RequestBody参数</td><td>是否直接发布版本</td></tr><tr><td>Description</td><td>String</td><td>否</td><td>RequestBody参数</td><td>一个简短的说明 0-256字符</td></tr><tr><td>Environment</td><td><a href="#Environment" target="">Environment</a></td><td>否</td><td>RequestBody参数</td><td>环境变量</td></tr><tr><td>FunctionName</td><td>String</td><td>是</td><td>RequestBody参数</td><td>函数名 1-140字符</td></tr><tr><td>Handler</td><td>String</td><td>是</td><td>RequestBody参数</td><td>cfc调用的入口函数，对于node为module-name.export eg. index.handler</td></tr><tr><td>MemorySize</td><td>int</td><td>否</td><td>RequestBody参数</td><td>内存大小 现在为128固定</td><td></td></tr><tr><td>Region</td><td>String</td><td>否</td><td>RequestBody参数</td><td>地址 bj</td><td></td></tr><tr><td>Runtime</td><td>String</td><td>是</td><td>RequestBody参数</td><td>运行语言 python2 nodejs6.11</td></tr><tr><td>Timeout</td><td>int</td><td>是</td><td>RequestBody参数</td><td>超时时间 1-300 最大300</td></tr></thead></table><p>如下代码可以创建函数：</p><pre class="prism language-javascript">
    <span class="token keyword">var</span> body <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Code&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;ZipFile&quot;</span><span class="token punctuation">:</span> &quot;UEsDBBQACAAIAAAAAAAAAAAAAAAAAAAAAAAIAAAAaW5kZXguanNKrSjILyop1stIzEvJSS1SsFXQSC1LzSvRUUjOzytJrQAxEnNykhKTszUVbO0UqrkUFBTgQhp5pTk5OgpgHdFKiUqxmtZctdaAAAA<span class="token comment" spellcheck="true">A//9QSwcI9fw51k4AAABUAAAAUEsBAhQAFAAIAAgAAAAAAPX8OdZOAAAAVAAAAAgAAAAAAAAAAAAAAAAAAAAAAGluZGV4LmpzUEsFBgAAAAABAAEANgAAAIQAAAAAAA==&quot;,
</span>            <span class="token string">&quot;Publish&quot;</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;bce_sdk_test&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Region&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;bj&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Timeout&quot;</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token string">&quot;FunctionName&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;bce_sdk_test&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Handler&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;index.handler&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Runtime&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;nodejs6.11&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;MemorySize&quot;</span><span class="token punctuation">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Environment&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Variables&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;a&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">createFunction<span class="token punctuation">(</span></span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 创建函数
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="listfunctions"></a>listFunctions <a class="hash-link" href="#listfunctions">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于查询用户函数。</li></ul><p>&lt;b&gt;请求参数&lt;b&gt;</p><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>FunctionVersion</td><td>String</td><td>否</td><td>Query参数</td><td>函数版本</td></tr><tr><td>page</td><td>int</td><td>否</td><td>Query参数</td><td>页号</td></tr><tr><td>pageSize</td><td>int</td><td>否</td><td>Query参数</td><td>页面大小</td></tr><tr><td>Marker</td><td>int</td><td>否</td><td>Query参数</td><td></td></tr><tr><td>MaxItems</td><td>int</td><td>否</td><td>最大数目</td><td>1-10000</td></tr></thead></table><p>如下代码可以创建函数：</p><pre class="prism language-javascript">
    <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    options<span class="token punctuation">.</span>marker <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">listFunctions<span class="token punctuation">(</span></span>options<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行成功
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="getfunction"></a>getFunction <a class="hash-link" href="#getfunction">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于查询用户单个函数。</li></ul><p>&lt;b&gt;请求参数&lt;b&gt;</p><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>FunctionName</td><td>String</td><td>是</td><td>path参数</td><td>函数名称</td></tr><tr><td>Qualifier</td><td>String</td><td>否</td><td>Query参数</td><td>默认为$LATEST 可选别名和版本</td></tr></thead></table><p>如下代码可以获取函数：</p><pre class="prism language-javascript">
    <span class="token keyword">var</span> functionName <span class="token operator">=</span> &lt;functionName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">getFunction<span class="token punctuation">(</span></span>functionName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行成功
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="deletefunction"></a>DeleteFunction <a class="hash-link" href="#deletefunction">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于删除函数。</li></ul><p>&lt;b&gt;请求参数&lt;b&gt;</p><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>FunctionName</td><td>String</td><td>是</td><td>path参数</td><td>函数名称</td></tr></thead></table><p>如下代码可以删除函数：</p><pre class="prism language-javascript">
    <span class="token keyword">var</span> functionName <span class="token operator">=</span> &lt;functionName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">deleteFunction<span class="token punctuation">(</span></span>functionName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行成功
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="updatefunctioncode"></a>updateFunctionCode <a class="hash-link" href="#updatefunctioncode">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于更新指定function代码。
&lt;b&gt;请求参数&lt;b&gt;</li></ul><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>FunctionName</td><td>String</td><td>是</td><td>path参数</td><td>函数名称</td></tr><tr><td>ZipFile</td><td>String</td><td>否</td><td>body参数</td><td>Base64-encoded binary data object</td></tr><tr><td>Publish</td><td>String</td><td>否</td><td>body参数</td><td>是否直接发布</td></tr><tr><td>DryRun</td><td>String</td><td>否</td><td>body参数</td><td>这个布尔参数可用于测试您对cfc的请求，以更新cfc函数，并将一个版本作为原子操作发布。它将对你的代码进行所有必要的计算和验证，但是不会上传它或者发布一个版本。每次调用该操作时，所提供代码的CodeSha256散列值也将在响应中计算并返回。 暂未支持</td></tr></thead></table><p>如下代码可以更新指定function代码：</p><pre class="prism language-javascript">
    <span class="token keyword">var</span> functionName <span class="token operator">=</span> &lt;functionName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> code <span class="token operator">=</span> <span class="token punctuation">{</span>
                   <span class="token string">&quot;ZipFile&quot;</span><span class="token punctuation">:</span> &quot;UEsDBBQACAAIAAAAAAAAAAAAAAAAAAAAAAAIAAAAaW5kZXguanNKrSjILyop1stIzEvJSS1SsFXQSC1LzSvRUUjOzytJrQAxEnNykhKTszUVbO0UqrkUFBTgQhp5pTk5OgpgHdFKiUqxmtZctdaAAAA<span class="token comment" spellcheck="true">A//9QSwcI9fw51k4AAABUAAAAUEsBAhQAFAAIAAgAAAAAAPX8OdZOAAAAVAAAAAgAAAAAAAAAAAAAAAAAAAAAAGluZGV4LmpzUEsFBgAAAAABAAEANgAAAIQAAAAAAA==&quot;,
</span>                   <span class="token string">&quot;Publish&quot;</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                   <span class="token string">&quot;DryRun&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
               <span class="token punctuation">}</span>
    client<span class="token punctuation">.</span><span class="token function">updateFunctionCode<span class="token punctuation">(</span></span>functionName<span class="token punctuation">,</span> code<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行成功
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="getfunctionconfiguration"></a>getFunctionConfiguration <a class="hash-link" href="#getfunctionconfiguration">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于获取指定函数配置。</li></ul><p>&lt;b&gt;请求参数&lt;b&gt;</p><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>FunctionName</td><td>String</td><td>是</td><td>path参数</td><td>函数名称</td></tr><tr><td>Qualifier</td><td>String</td><td>否</td><td>Query参数</td><td>默认为$LATEST 可选别名和版本</td></tr></thead></table><p>如下代码可以获取指定函数配置：</p><pre class="prism language-javascript">
    <span class="token keyword">var</span> functionName <span class="token operator">=</span> &lt;functionName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Qualifier&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;1&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">getFunctionConfiguration<span class="token punctuation">(</span></span>functionName<span class="token punctuation">,</span> option<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行成功
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="updatefunctionconfiguration"></a>updateFunctionConfiguration <a class="hash-link" href="#updatefunctionconfiguration">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于修改函数配置。</li></ul><p>&lt;b&gt;请求参数&lt;b&gt;</p><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>FunctionName</td><td>String</td><td>是</td><td>path参数</td><td>函数名称</td></tr><tr><td>Qualifier</td><td>String</td><td>否</td><td>Query参数</td><td>函数版本 只有$LATEST才能修改</td></tr><tr><td>Timeout</td><td>int</td><td>否</td><td>body参数</td><td>超时时间</td></tr><tr><td>Handler</td><td>String</td><td>否</td><td>body参数</td><td>入口</td></tr><tr><td>Runtime</td><td>String</td><td>否</td><td>body参数</td><td>运行语言  python2 nodejs6.11</td></tr><tr><td>Environment</td><td><a href="#Environment" target="">Environment</a></td><td>否</td><td>body参数</td><td>环境变量</td></tr></thead></table><p>如下代码可以获取指定函数配置：</p><pre class="prism language-javascript">
    <span class="token keyword">var</span> functionName <span class="token operator">=</span> &lt;functionName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> body <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;bce_sdk_test&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Region&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;bj&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Timeout&quot;</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token string">&quot;FunctionName&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;bce_sdk_test&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Handler&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;index.handler&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Runtime&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;nodejs6.11&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;MemorySize&quot;</span><span class="token punctuation">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Environment&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;Variables&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token string">&quot;a&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">updateFunctionConfiguration<span class="token punctuation">(</span></span>functionName<span class="token punctuation">,</span> body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行成功
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h2><a class="anchor" name="%E7%89%88%E6%9C%AC%E6%93%8D%E4%BD%9C"></a>版本操作 <a class="hash-link" href="#%E7%89%88%E6%9C%AC%E6%93%8D%E4%BD%9C">#</a></h2><h3><a class="anchor" name="listversionsbyfunction"></a>listVersionsByFunction <a class="hash-link" href="#listversionsbyfunction">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于查询函数所有版本。</li><li>&lt;b&gt;请求参数&lt;b&gt;</li></ul><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>FunctionName</td><td>String</td><td>是</td><td>path参数</td><td>函数名称</td></tr><tr><td>Marker</td><td>int</td><td>否</td><td>Query参数</td><td>标记</td></tr><tr><td>MaxItems</td><td>int</td><td>否</td><td>Query参数</td><td>最大数目 1-10000</td></tr></thead></table><p>如下代码可以获取指定函数配置：</p><pre class="prism language-javascript">
    <span class="token keyword">var</span> functionName <span class="token operator">=</span> &lt;functionName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> opt_options <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Marker&quot;</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">&quot;MaxItems&quot;</span><span class="token punctuation">:</span><span class="token number">10</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">listVersionsByFunction<span class="token punctuation">(</span></span>functionName<span class="token punctuation">,</span> opt_options<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行成功
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="publishversion"></a>publishVersion <a class="hash-link" href="#publishversion">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于发布函数版本。</li></ul><p>&lt;b&gt;请求参数&lt;b&gt;</p><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>FunctionName</td><td>String</td><td>是</td><td>path参数</td><td>函数名称</td></tr><tr><td>Description</td><td>string</td><td>否</td><td>body参数</td><td>版本描述</td><td></td></tr></thead></table><p>如下代码可以发布函数版本：</p><pre class="prism language-javascript">
    <span class="token keyword">var</span> functionName <span class="token operator">=</span> &lt;functionName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">publishVersion<span class="token punctuation">(</span></span>functionName<span class="token punctuation">,</span> <span class="token string">&quot;description&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行成功
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h2><a class="anchor" name="%E5%88%AB%E5%90%8D%E6%93%8D%E4%BD%9C"></a>别名操作 <a class="hash-link" href="#%E5%88%AB%E5%90%8D%E6%93%8D%E4%BD%9C">#</a></h2><h3><a class="anchor" name="listaliases"></a>listAliases <a class="hash-link" href="#listaliases">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于查询函数所有别名。</li></ul><p>&lt;b&gt;请求参数&lt;b&gt;</p><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>FunctionName</td><td>String</td><td>是</td><td>path参数</td><td>函数名称</td></tr><tr><td>FunctionVersion</td><td>String</td><td>是</td><td>Query参数</td><td>函数版本</td></tr><tr><td>Marker</td><td>int</td><td>否</td><td>Query参数</td><td>标记</td></tr><tr><td>MaxItems</td><td>int</td><td>否</td><td>Query参数</td><td>最大数目 1-10000</td></tr></thead></table><p>如下代码可以发布函数版本：</p><pre class="prism language-javascript">
    <span class="token keyword">var</span> opt_options <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;Marker&quot;</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">&quot;MaxItems&quot;</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token string">&quot;FunctionVersion&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;1&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> functionName <span class="token operator">=</span> &lt;functionName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">listAliases<span class="token punctuation">(</span></span>functionName<span class="token punctuation">,</span> <span class="token string">&quot;description&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行成功
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="createalias"></a>createAlias <a class="hash-link" href="#createalias">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于创建别名。</li></ul><p>&lt;b&gt;请求参数&lt;b&gt;</p><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>FunctionName</td><td>String</td><td>是</td><td>path参数</td><td>函数名称</td></tr><tr><td>FunctionVersion</td><td>String</td><td>是</td><td>body参数</td><td>别名指向函数版本 可以设置为$LATEST</td></tr><tr><td>Name</td><td>String</td><td>是</td><td>body参数</td><td>别名名称</td></tr><tr><td>Description</td><td>string</td><td>否</td><td>body参数</td><td>别名描述</td><td></td></tr></thead></table><p>如下代码可以创建别名：</p><pre class="prism language-javascript">
     <span class="token keyword">var</span> body <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;FunctionVersion&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span>
     <span class="token punctuation">}</span>
    <span class="token keyword">var</span> functionName <span class="token operator">=</span> &lt;functionName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    client<span class="token punctuation">.</span><span class="token function">createAlias<span class="token punctuation">(</span></span>functionName<span class="token punctuation">,</span> body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行成功
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="getalias"></a>getAlias <a class="hash-link" href="#getalias">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于查询别名详情。</li></ul><p>&lt;b&gt;请求参数&lt;b&gt;</p><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>aliasName</td><td>String</td><td>是</td><td>path参数</td><td>别名名称</td></tr><tr><td>FunctionName</td><td>String</td><td>是</td><td>path参数</td><td>函数名称</td></tr></thead></table><p>如下代码可以创建别名：</p><pre class="prism language-javascript">

    <span class="token keyword">var</span> functionName <span class="token operator">=</span> &lt;functionName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> aliasName <span class="token operator">=</span> &lt;aliasName<span class="token operator">&gt;</span>
    client<span class="token punctuation">.</span><span class="token function">getAlias<span class="token punctuation">(</span></span>functionName<span class="token punctuation">,</span> aliasName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行成功
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="updatealias"></a>UpdateAlias <a class="hash-link" href="#updatealias">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于修改别名。</li></ul><p>&lt;b&gt;请求参数&lt;b&gt;</p><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>FunctionName</td><td>String</td><td>是</td><td>path参数</td><td>函数名称</td></tr><tr><td>FunctionVersion</td><td>String</td><td>是</td><td>body参数</td><td>别名指向函数版本 可以设置为$LATEST</td></tr><tr><td>Description</td><td>string</td><td>否</td><td>body参数</td><td>别名描述</td><td></td></tr></thead></table><p>如下代码可以修改别名：</p><pre class="prism language-javascript">

    <span class="token keyword">var</span> functionName <span class="token operator">=</span> &lt;functionName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> aliasName <span class="token operator">=</span> &lt;aliasName<span class="token operator">&gt;</span>
    <span class="token keyword">var</span> body <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;FunctionVersion&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;Description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span>
    <span class="token punctuation">}</span>
    client<span class="token punctuation">.</span><span class="token function">updateAlias<span class="token punctuation">(</span></span>functionName<span class="token punctuation">,</span> aliasName<span class="token punctuation">,</span> body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行成功
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="deletealias"></a>DeleteAlias <a class="hash-link" href="#deletealias">#</a></h3><p><strong>描述</strong></p><ul><li>本接口用于删除别名。</li></ul><p>&lt;b&gt;请求参数&lt;b&gt;</p><table><thead><tr><th>参数名称</th><th>类型</th><th>是否必需</th><th>参数位置</th><th>描述</th></tr></thead><thead><tr><td>FunctionName</td><td>String</td><td>是</td><td>path参数</td><td>函数名称</td></tr><tr><td>aliaName</td><td>String</td><td>是</td><td>path参数</td><td>别名名称</td></tr></thead></table><p>如下代码可以删除别名：</p><pre class="prism language-javascript">

    <span class="token keyword">var</span> functionName <span class="token operator">=</span> &lt;functionName<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> aliasName <span class="token operator">=</span> &lt;aliasName<span class="token operator">&gt;</span>
    client<span class="token punctuation">.</span><span class="token function">deleteAlias<span class="token punctuation">(</span></span>functionName<span class="token punctuation">,</span> aliasName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token keyword">function</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行成功
</span>        console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment" spellcheck="true"> // 执行失败
</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div><div class="docs-prevnext"></div></div></section><footer class="wrap"><div class="right">© 2016 Baidu Inc.</div></footer></div></body></html>